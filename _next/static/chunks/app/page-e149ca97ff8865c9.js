(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2170:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>el});var i=a(5155),t=a(2115);let l={HOSPITALS:"hospitals",DOCTORS:"doctors",PATIENTS:"patients",TIME_SLOTS:"timeSlots",WEEKLY_SCHEDULES:"weeklySchedules",APPOINTMENTS:"appointments",USERS:"users",CURRENT_USER:"currentUser",SPECIALIZATIONS:"specializations"},n=e=>{let s=localStorage.getItem(e);return s?JSON.parse(s):[]},c=(e,s)=>{localStorage.setItem(e,JSON.stringify(s))},d=(e,s)=>{let a=n(e);a.push(s),c(e,a)},r=(e,s)=>{let a=n(e),i=a.findIndex(e=>e.id===s.id);-1!==i&&(a[i]=s,c(e,a))},o=()=>n(l.HOSPITALS),m=()=>n(l.DOCTORS),h=()=>n(l.PATIENTS),x=()=>n(l.TIME_SLOTS),p=e=>d(l.TIME_SLOTS,e),j=()=>n(l.APPOINTMENTS),u=()=>n(l.USERS),N=e=>d(l.USERS,e),v=()=>{0===n(l.SPECIALIZATIONS).length&&c(l.SPECIALIZATIONS,[{id:"1",name:"Cardiology",description:"Heart and cardiovascular system"},{id:"2",name:"Neurology",description:"Brain and nervous system"},{id:"3",name:"Pediatrics",description:"Children and adolescents"},{id:"4",name:"Orthopedics",description:"Bones and joints"},{id:"5",name:"Dermatology",description:"Skin, hair, and nails"},{id:"6",name:"Psychiatry",description:"Mental health"},{id:"7",name:"Oncology",description:"Cancer treatment"},{id:"8",name:"General Medicine",description:"General health and wellness"}]);if(0===u().length){let e;e=[{id:"1",email:"admin@mednetwork.com",name:"System Administrator",role:"admin",password:"admin123",isFirstLogin:!1,createdAt:new Date().toISOString()}],c(l.USERS,e)}};var g=a(1976),f=a(5525),b=a(9397),y=a(8749),S=a(2657),w=a(3311),A=a(2318),C=a(3904);function D(e){let{onLogin:s,onShowSignup:a}=e,[n,c]=(0,t.useState)(""),[d,r]=(0,t.useState)(""),[o,m]=(0,t.useState)(!1),[h,x]=(0,t.useState)(""),[p,j]=(0,t.useState)(!1),N=async e=>{e.preventDefault(),j(!0),x("");try{let e=u().find(e=>e.email===n&&e.password===d);if(e)localStorage.setItem(l.CURRENT_USER,JSON.stringify(e)),s(e);else x("Invalid email or password")}catch(e){x("An error occurred during login")}finally{j(!1)}};return(0,i.jsxs)("div",{className:"login-page",children:[(0,i.jsx)("div",{className:"login-background",children:(0,i.jsxs)("div",{className:"floating-shapes",children:[(0,i.jsx)("div",{className:"shape shape-1"}),(0,i.jsx)("div",{className:"shape shape-2"}),(0,i.jsx)("div",{className:"shape shape-3"}),(0,i.jsx)("div",{className:"shape shape-4"})]})}),(0,i.jsxs)("div",{className:"login-container",children:[(0,i.jsx)("div",{className:"login-branding",children:(0,i.jsxs)("div",{className:"brand-content",children:[(0,i.jsx)("div",{className:"brand-logo",children:(0,i.jsx)("div",{className:"logo-circle",children:(0,i.jsx)(g.A,{className:"w-12 h-12"})})}),(0,i.jsx)("h1",{className:"brand-title",children:"Med Network"}),(0,i.jsx)("p",{className:"brand-subtitle",children:"Healthcare Management System"}),(0,i.jsxs)("div",{className:"brand-features",children:[(0,i.jsxs)("div",{className:"feature-item",children:[(0,i.jsx)("div",{className:"feature-icon",children:(0,i.jsx)(f.A,{className:"w-6 h-6"})}),(0,i.jsx)("span",{children:"Secure & Reliable"})]}),(0,i.jsxs)("div",{className:"feature-item",children:[(0,i.jsx)("div",{className:"feature-icon",children:(0,i.jsx)(b.A,{className:"w-6 h-6"})}),(0,i.jsx)("span",{children:"Real-time Monitoring"})]})]})]})}),(0,i.jsx)("div",{className:"login-form-section",children:(0,i.jsxs)("div",{className:"login-form-container",children:[(0,i.jsxs)("div",{className:"form-header",children:[(0,i.jsx)("h2",{className:"form-title",children:"Welcome Back"}),(0,i.jsx)("p",{className:"form-subtitle",children:"Sign in to your account to continue"})]}),(0,i.jsxs)("form",{onSubmit:N,className:"login-form",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Email Address"}),(0,i.jsx)("input",{type:"email",value:n,onChange:e=>c(e.target.value),placeholder:"Enter your email",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Password"}),(0,i.jsxs)("div",{className:"password-input-wrapper",children:[(0,i.jsx)("input",{type:o?"text":"password",value:d,onChange:e=>r(e.target.value),placeholder:"Enter your password",required:!0,className:"form-input"}),(0,i.jsx)("button",{type:"button",onClick:()=>m(!o),className:"password-toggle",children:o?(0,i.jsx)(y.A,{className:"w-5 h-5"}):(0,i.jsx)(S.A,{className:"w-5 h-5"})})]})]}),h&&(0,i.jsx)("div",{className:"error-message",children:(0,i.jsx)("span",{children:h})}),(0,i.jsx)("button",{type:"submit",disabled:p,className:"login-button",children:p?(0,i.jsx)("div",{className:"loading-spinner"}):"Sign In"})]}),(0,i.jsxs)("div",{className:"admin-section",children:[(0,i.jsxs)("h3",{className:"admin-title",children:[(0,i.jsx)(w.A,{className:"w-5 h-5"}),"Admin Access"]}),(0,i.jsxs)("div",{className:"admin-card",onClick:()=>{c("admin@mednetwork.com"),r("admin123")},children:[(0,i.jsxs)("div",{className:"admin-info",children:[(0,i.jsx)("div",{className:"admin-avatar",children:"S"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"admin-name",children:"System Administrator"}),(0,i.jsx)("p",{className:"admin-email",children:"admin@mednetwork.com"})]})]}),(0,i.jsx)("button",{className:"admin-use-btn",children:"Use"})]})]}),(0,i.jsxs)("div",{className:"additional-actions",children:[(0,i.jsxs)("div",{className:"signup-section",children:[(0,i.jsx)("p",{className:"signup-text",children:"New patient? Create your account"}),(0,i.jsxs)("button",{onClick:a,className:"signup-button",children:[(0,i.jsx)(A.A,{className:"w-4 h-4"}),"Patient Signup"]})]}),(0,i.jsx)("div",{className:"reset-section",children:(0,i.jsxs)("button",{onClick:()=>{Object.values(l).forEach(e=>{localStorage.removeItem(e)}),v(),alert("Demo data has been reset! You can now use the admin account.")},className:"reset-button",children:[(0,i.jsx)(C.A,{className:"w-4 h-4"}),"Reset Demo Data"]})})]})]})})]}),(0,i.jsx)("div",{className:"login-footer",children:(0,i.jsx)("p",{children:"\xa9 2024 Med Network Pvt Ltd. All rights reserved."})})]})}var T=a(5169);function I(e){let{onSignup:s,onBackToLogin:a}=e,[n,c]=(0,t.useState)({name:"",email:"",phone:"",password:"",age:""}),[r,o]=(0,t.useState)(!1),[m,h]=(0,t.useState)(""),[x,p]=(0,t.useState)(!1),j=e=>{let{name:s,value:a}=e.target;c(e=>({...e,[s]:a}))},v=async e=>{e.preventDefault(),p(!0),h("");try{if(u().find(e=>e.email===n.email))return void h("A user with this email already exists");let e={id:Date.now().toString(),name:n.name,email:n.email,phone:n.phone,password:n.password,role:"patient",createdAt:new Date().toISOString()},a={id:e.id,name:n.name,email:n.email,phone:n.phone,age:parseInt(n.age)||void 0,createdAt:new Date().toISOString()};N(e),d(l.PATIENTS,a),s(e)}catch(e){h("An error occurred during signup")}finally{p(!1)}};return(0,i.jsxs)("div",{className:"login-page",children:[(0,i.jsx)("div",{className:"login-background",children:(0,i.jsxs)("div",{className:"floating-shapes",children:[(0,i.jsx)("div",{className:"shape shape-1"}),(0,i.jsx)("div",{className:"shape shape-2"}),(0,i.jsx)("div",{className:"shape shape-3"}),(0,i.jsx)("div",{className:"shape shape-4"})]})}),(0,i.jsxs)("div",{className:"login-container",children:[(0,i.jsx)("div",{className:"login-branding",children:(0,i.jsxs)("div",{className:"brand-content",children:[(0,i.jsx)("div",{className:"brand-logo",children:(0,i.jsx)("div",{className:"logo-circle",children:(0,i.jsx)(g.A,{className:"w-12 h-12"})})}),(0,i.jsx)("h1",{className:"brand-title",children:"Med Network"}),(0,i.jsx)("p",{className:"brand-subtitle",children:"Patient Registration"}),(0,i.jsxs)("div",{className:"brand-features",children:[(0,i.jsxs)("div",{className:"feature-item",children:[(0,i.jsx)("div",{className:"feature-icon",children:(0,i.jsx)(A.A,{className:"w-6 h-6"})}),(0,i.jsx)("span",{children:"Easy Registration"})]}),(0,i.jsxs)("div",{className:"feature-item",children:[(0,i.jsx)("div",{className:"feature-icon",children:(0,i.jsx)(g.A,{className:"w-6 h-6"})}),(0,i.jsx)("span",{children:"Quality Healthcare"})]})]})]})}),(0,i.jsx)("div",{className:"login-form-section",children:(0,i.jsxs)("div",{className:"login-form-container",children:[(0,i.jsxs)("div",{className:"form-header",children:[(0,i.jsx)("h2",{className:"form-title",children:"Create Account"}),(0,i.jsx)("p",{className:"form-subtitle",children:"Join our healthcare network"})]}),(0,i.jsxs)("form",{onSubmit:v,className:"login-form",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Full Name"}),(0,i.jsx)("input",{type:"text",name:"name",value:n.name,onChange:j,placeholder:"Enter your full name",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Email Address"}),(0,i.jsx)("input",{type:"email",name:"email",value:n.email,onChange:j,placeholder:"Enter your email",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Phone Number"}),(0,i.jsx)("input",{type:"tel",name:"phone",value:n.phone,onChange:j,placeholder:"Enter your phone number",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Age"}),(0,i.jsx)("input",{type:"number",name:"age",value:n.age,onChange:j,placeholder:"Enter your age",min:"1",max:"120",className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Password"}),(0,i.jsxs)("div",{className:"password-input-wrapper",children:[(0,i.jsx)("input",{type:r?"text":"password",name:"password",value:n.password,onChange:j,placeholder:"Create a password",required:!0,className:"form-input"}),(0,i.jsx)("button",{type:"button",onClick:()=>o(!r),className:"password-toggle",children:r?(0,i.jsx)(y.A,{className:"w-5 h-5"}):(0,i.jsx)(S.A,{className:"w-5 h-5"})})]})]}),m&&(0,i.jsx)("div",{className:"error-message",children:(0,i.jsx)("span",{children:m})}),(0,i.jsx)("button",{type:"submit",disabled:x,className:"login-button",children:x?(0,i.jsx)("div",{className:"loading-spinner"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A.A,{className:"w-4 h-4"}),"Create Account"]})})]}),(0,i.jsx)("div",{className:"additional-actions",children:(0,i.jsxs)("div",{className:"signup-section",children:[(0,i.jsx)("p",{className:"signup-text",children:"Already have an account?"}),(0,i.jsxs)("button",{onClick:a,className:"signup-button",children:[(0,i.jsx)(T.A,{className:"w-4 h-4"}),"Back to Login"]})]})})]})})]}),(0,i.jsx)("div",{className:"login-footer",children:(0,i.jsx)("p",{children:"\xa9 2024 Med Network Pvt Ltd. All rights reserved."})})]})}var k=a(3861),P=a(381),E=a(6474),z=a(4835),L=a(3227),O=a(3917),q=a(7580),B=a(9074),F=a(4616),H=a(8883),R=a(9420),M=a(4516),W=a(4186),U=a(3717),_=a(3109);function Y(e){let{onLogout:s}=e,[a,n]=(0,t.useState)([]),[c,x]=(0,t.useState)([]),[p,v]=(0,t.useState)([]),[y,S]=(0,t.useState)([]),[w,A]=(0,t.useState)(!1),[C,D]=(0,t.useState)(!1),[T,I]=(0,t.useState)(null),[Y,Q]=(0,t.useState)(!1),[J,V]=(0,t.useState)({name:"",email:"",phone:"",address:"",helpline:"",description:""});(0,t.useEffect)(()=>{K()},[]);let K=()=>{n(o()),x(m()),v(h()),S(j())};return(0,i.jsxs)("div",{className:"dashboard",children:[(0,i.jsx)("header",{className:"header",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"header-content",children:[(0,i.jsxs)("div",{className:"logo",children:[(0,i.jsx)("div",{className:"logo-icon",children:(0,i.jsx)(g.A,{className:"w-6 h-6"})}),(0,i.jsxs)("div",{className:"logo-text",children:[(0,i.jsx)("h1",{children:"Med Network"}),(0,i.jsx)("p",{children:"Healthcare Management"})]})]}),(0,i.jsxs)("div",{className:"header-actions",children:[(0,i.jsxs)("div",{className:"notification-badge",children:[(0,i.jsx)(k.A,{className:"w-6 h-6"}),(0,i.jsx)("span",{className:"badge",children:"3"})]}),(0,i.jsx)("div",{className:"settings-icon",children:(0,i.jsx)(P.A,{className:"w-6 h-6"})}),(0,i.jsxs)("div",{className:"user-profile",onClick:()=>Q(!Y),children:[(0,i.jsx)("div",{className:"user-avatar",children:(0,i.jsx)("span",{children:"S"})}),(0,i.jsxs)("div",{className:"user-info",children:[(0,i.jsx)("h3",{children:"System Administrator"}),(0,i.jsx)("p",{children:"admin@mednetwork.com"})]}),(0,i.jsx)(E.A,{className:"w-4 h-4 transition-transform ".concat(Y?"rotate-180":"")}),Y&&(0,i.jsxs)("div",{className:"user-dropdown",children:[(0,i.jsxs)("div",{className:"dropdown-header",children:[(0,i.jsx)("div",{className:"dropdown-avatar",children:(0,i.jsx)("span",{children:"S"})}),(0,i.jsxs)("div",{className:"dropdown-info",children:[(0,i.jsx)("h4",{children:"System Administrator"}),(0,i.jsx)("p",{children:"admin@mednetwork.com"})]})]}),(0,i.jsx)("div",{className:"dropdown-divider"}),(0,i.jsxs)("div",{className:"dropdown-actions",children:[(0,i.jsxs)("button",{className:"dropdown-action",children:[(0,i.jsx)(P.A,{className:"w-4 h-4"}),"Settings"]}),(0,i.jsxs)("button",{className:"dropdown-action",children:[(0,i.jsx)(f.A,{className:"w-4 h-4"}),"Security"]}),(0,i.jsxs)("button",{className:"dropdown-action logout",onClick:()=>{s()},children:[(0,i.jsx)(z.A,{className:"w-4 h-4"}),"Sign Out"]})]})]})]})]})]})})}),(0,i.jsx)("main",{className:"main-content",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("section",{className:"welcome-section fade-in",children:(0,i.jsxs)("div",{className:"welcome-content",children:[(0,i.jsxs)("div",{className:"welcome-text",children:[(0,i.jsx)("h1",{children:"Welcome back, Administrator"}),(0,i.jsx)("p",{children:"Manage your healthcare network and monitor system performance"}),(0,i.jsxs)("div",{className:"stats-overview",children:[(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number stat-hospitals",children:a.length}),(0,i.jsx)("div",{className:"stat-label",children:"Hospitals"})]}),(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number stat-doctors",children:c.length}),(0,i.jsx)("div",{className:"stat-label",children:"Doctors"})]}),(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number stat-patients",children:p.length}),(0,i.jsx)("div",{className:"stat-label",children:"Patients"})]})]})]}),(0,i.jsx)("div",{className:"welcome-icon",children:(0,i.jsx)(b.A,{className:"w-16 h-16"})})]})}),(0,i.jsxs)("section",{className:"stats-grid",children:[(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon blue",children:(0,i.jsx)(L.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Total Hospitals"}),(0,i.jsx)("div",{className:"stat-card-number stat-hospitals",children:a.length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Healthcare facilities"})]}),(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon green",children:(0,i.jsx)(O.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Total Doctors"}),(0,i.jsx)("div",{className:"stat-card-number stat-doctors",children:c.length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Medical professionals"})]}),(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon purple",children:(0,i.jsx)(q.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Total Patients"}),(0,i.jsx)("div",{className:"stat-card-number stat-patients",children:p.length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Registered patients"})]}),(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon orange",children:(0,i.jsx)(B.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Total Appointments"}),(0,i.jsx)("div",{className:"stat-card-number",children:y.length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Scheduled visits"})]})]}),(0,i.jsxs)("div",{className:"main-layout",children:[(0,i.jsxs)("div",{className:"content-card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon blue",children:(0,i.jsx)(L.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Manage Hospitals"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"Add and manage healthcare facilities in your network"}),(0,i.jsx)("div",{className:"card-actions",children:(0,i.jsxs)("button",{onClick:()=>A(!w),className:"btn btn-primary",children:[(0,i.jsx)(F.A,{className:"w-4 h-4"}),"Add Hospital"]})})]}),w&&(0,i.jsx)("div",{className:"form-section slide-up",children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s={id:Date.now().toString(),name:J.name,email:J.email,phone:J.phone,address:J.address,helpline:J.helpline||void 0,description:J.description||void 0,createdAt:new Date().toISOString()},a={id:Date.now().toString()+"_admin",email:J.email,phone:J.phone,name:"".concat(J.name," Administrator"),role:"hospital_admin",hospitalId:s.id,password:"testing",isFirstLogin:!0,createdAt:new Date().toISOString()};d(l.HOSPITALS,s),N(a),alert('Hospital "'.concat(J.name,'" created successfully!\n\nLogin Credentials:\nEmail: ').concat(J.email,"\nPassword: testing")),V({name:"",email:"",phone:"",address:"",helpline:"",description:""}),A(!1),K()},children:[(0,i.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"24px",color:"#1a202c"},children:"Add New Hospital"}),(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Hospital Name *"}),(0,i.jsx)("input",{type:"text",value:J.name,onChange:e=>V({...J,name:e.target.value}),placeholder:"Enter hospital name",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Email *"}),(0,i.jsx)("input",{type:"email",value:J.email,onChange:e=>V({...J,email:e.target.value}),placeholder:"Enter email address",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Phone *"}),(0,i.jsx)("input",{type:"text",value:J.phone,onChange:e=>V({...J,phone:e.target.value}),placeholder:"Enter phone number",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Address *"}),(0,i.jsx)("input",{type:"text",value:J.address,onChange:e=>V({...J,address:e.target.value}),placeholder:"Enter address",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Helpline"}),(0,i.jsx)("input",{type:"text",value:J.helpline,onChange:e=>V({...J,helpline:e.target.value}),placeholder:"Enter helpline number",className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Description"}),(0,i.jsx)("input",{type:"text",value:J.description,onChange:e=>V({...J,description:e.target.value}),placeholder:"Enter description",className:"form-input"})]})]}),(0,i.jsxs)("div",{className:"form-actions",children:[(0,i.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,i.jsx)(F.A,{className:"w-4 h-4"}),"Add Hospital"]}),(0,i.jsx)("button",{type:"button",onClick:()=>A(!1),className:"btn btn-secondary",children:"Cancel"})]})]})}),C&&T&&(0,i.jsx)("div",{className:"form-section slide-up",children:(0,i.jsxs)("form",{onSubmit:e=>{let s;if(e.preventDefault(),!T)return;s={...T,name:J.name,email:J.email,phone:J.phone,address:J.address,helpline:J.helpline||void 0,description:J.description||void 0},r(l.HOSPITALS,s);let a=u().find(e=>e.hospitalId===T.id);a&&r("users",{...a,name:"".concat(J.name," Administrator"),email:J.email,phone:J.phone}),alert('Hospital "'.concat(J.name,'" updated successfully!')),V({name:"",email:"",phone:"",address:"",helpline:"",description:""}),D(!1),I(null),K()},children:[(0,i.jsxs)("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"24px",color:"#1a202c"},children:["Edit Hospital: ",T.name]}),(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Hospital Name *"}),(0,i.jsx)("input",{type:"text",value:J.name,onChange:e=>V({...J,name:e.target.value}),placeholder:"Enter hospital name",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Email *"}),(0,i.jsx)("input",{type:"email",value:J.email,onChange:e=>V({...J,email:e.target.value}),placeholder:"Enter email address",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Phone *"}),(0,i.jsx)("input",{type:"text",value:J.phone,onChange:e=>V({...J,phone:e.target.value}),placeholder:"Enter phone number",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Address *"}),(0,i.jsx)("input",{type:"text",value:J.address,onChange:e=>V({...J,address:e.target.value}),placeholder:"Enter address",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Helpline"}),(0,i.jsx)("input",{type:"text",value:J.helpline,onChange:e=>V({...J,helpline:e.target.value}),placeholder:"Enter helpline number",className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Description"}),(0,i.jsx)("input",{type:"text",value:J.description,onChange:e=>V({...J,description:e.target.value}),placeholder:"Enter description",className:"form-input"})]})]}),(0,i.jsxs)("div",{className:"form-actions",children:[(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update Hospital"}),(0,i.jsx)("button",{type:"button",onClick:()=>{D(!1),I(null),V({name:"",email:"",phone:"",address:"",helpline:"",description:""})},className:"btn btn-secondary",children:"Cancel"})]})]})}),(0,i.jsx)("div",{className:"hospital-list",children:a.length>0?a.map(e=>(0,i.jsx)("div",{className:"hospital-item",children:(0,i.jsxs)("div",{className:"hospital-header",children:[(0,i.jsx)("div",{className:"hospital-icon",children:(0,i.jsx)(L.A,{className:"w-8 h-8"})}),(0,i.jsxs)("div",{className:"hospital-info",children:[(0,i.jsx)("h3",{children:e.name}),(0,i.jsxs)("div",{className:"hospital-details",children:[(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(H.A,{className:"hospital-detail-icon"}),(0,i.jsx)("span",{children:e.email})]}),(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(R.A,{className:"hospital-detail-icon"}),(0,i.jsx)("span",{children:e.phone})]}),(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(M.A,{className:"hospital-detail-icon"}),(0,i.jsx)("span",{children:e.address})]}),e.helpline&&(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(W.A,{className:"hospital-detail-icon"}),(0,i.jsxs)("span",{children:["Helpline: ",e.helpline]})]})]}),e.description&&(0,i.jsxs)("div",{className:"hospital-description",children:["“",e.description,"”"]})]}),(0,i.jsx)("div",{className:"hospital-actions",children:(0,i.jsx)("button",{onClick:()=>{V({name:e.name,email:e.email,phone:e.phone,address:e.address,helpline:e.helpline||"",description:e.description||""}),I(e),D(!0)},className:"btn btn-secondary",style:{padding:"8px",minWidth:"auto"},children:(0,i.jsx)(U.A,{className:"w-4 h-4"})})})]})},e.id)):(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsx)("div",{className:"empty-state-icon",children:(0,i.jsx)(L.A,{className:"w-10 h-10"})}),(0,i.jsx)("h3",{children:"No Hospitals Added"}),(0,i.jsx)("p",{children:"Start building your healthcare network by adding your first hospital facility."}),(0,i.jsxs)("button",{onClick:()=>A(!0),className:"btn btn-primary",children:[(0,i.jsx)(F.A,{className:"w-4 h-4"}),"Add First Hospital"]})]})})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"content-card",style:{marginBottom:"32px"},children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon green",children:(0,i.jsx)(b.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"System Health"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"Overview of system performance and activity"})]}),(0,i.jsxs)("div",{className:"status-list",children:[(0,i.jsxs)("div",{className:"status-item green",children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon green",children:(0,i.jsx)(g.A,{className:"w-4 h-4"})}),(0,i.jsx)("span",{className:"status-text green",children:"System Status"})]}),(0,i.jsx)("span",{className:"status-badge success",children:"Healthy"})]}),(0,i.jsxs)("div",{className:"status-item blue",children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon blue",children:(0,i.jsx)(f.A,{className:"w-4 h-4"})}),(0,i.jsx)("span",{className:"status-text blue",children:"Security"})]}),(0,i.jsx)("span",{className:"status-badge info",children:"Protected"})]}),(0,i.jsxs)("div",{className:"status-item purple",children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon purple",children:(0,i.jsx)(_.A,{className:"w-4 h-4"})}),(0,i.jsx)("span",{className:"status-text purple",children:"Performance"})]}),(0,i.jsx)("span",{className:"status-badge info",children:"Optimal"})]})]})]}),(0,i.jsxs)("div",{className:"content-card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon purple",children:(0,i.jsx)(_.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Quick Actions"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"Common administrative tasks"})]}),(0,i.jsx)("div",{className:"quick-actions",children:(0,i.jsxs)("div",{className:"action-list",children:[(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(L.A,{className:"w-4 h-4"}),"Manage Hospitals"]}),(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(O.A,{className:"w-4 h-4"}),"View Doctors"]}),(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(q.A,{className:"w-4 h-4"}),"Patient Records"]}),(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(B.A,{className:"w-4 h-4"}),"Appointment Reports"]})]})})]})]})]})]})})]})}function Q(e){var s;let{currentUser:a,onLogout:n}=e,[c,h]=(0,t.useState)([]),[x,p]=(0,t.useState)([]),[v,f]=(0,t.useState)([]),[b,y]=(0,t.useState)(!1),[S,w]=(0,t.useState)(!1),[A,C]=(0,t.useState)(null),[D,T]=(0,t.useState)(!1),[I,M]=(0,t.useState)(!1),[W,Y]=(0,t.useState)(new Date().toISOString().split("T")[0]),[Q,J]=(0,t.useState)({name:"",email:"",phone:"",specialization:"",experience:"",qualification:"",consultationFee:""});(0,t.useEffect)(()=>{V()},[]);let V=()=>{h(m()),p(j()),f(o())},K=c.filter(e=>e.hospitalId===a.hospitalId),Z=x.filter(e=>{let s=c.find(s=>s.id===e.doctorId);return s&&s.hospitalId===a.hospitalId});return(0,i.jsxs)("div",{className:"dashboard",children:[(0,i.jsx)("header",{className:"header",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"header-content",children:[(0,i.jsxs)("div",{className:"logo",children:[(0,i.jsx)("div",{className:"logo-icon",children:(0,i.jsx)(g.A,{className:"w-6 h-6"})}),(0,i.jsxs)("div",{className:"logo-text",children:[(0,i.jsx)("h1",{children:(()=>{let e=v.find(e=>e.id===a.hospitalId);return e?e.name:"Hospital"})()}),(0,i.jsx)("p",{children:"Hospital Admin Portal"})]})]}),(0,i.jsxs)("div",{className:"header-actions",children:[(0,i.jsxs)("div",{className:"notification-badge",children:[(0,i.jsx)(k.A,{className:"w-6 h-6"}),(0,i.jsx)("span",{className:"badge",children:Z.length})]}),(0,i.jsx)("div",{className:"settings-icon",children:(0,i.jsx)(P.A,{className:"w-6 h-6"})}),(0,i.jsxs)("div",{className:"user-profile",onClick:()=>T(!D),children:[(0,i.jsx)("div",{className:"user-avatar",children:(0,i.jsx)("span",{children:"H"})}),(0,i.jsxs)("div",{className:"user-info",children:[(0,i.jsx)("h3",{children:a.name}),(0,i.jsx)("p",{children:a.email})]}),(0,i.jsx)(E.A,{className:"w-4 h-4 transition-transform ".concat(D?"rotate-180":"")}),D&&(0,i.jsxs)("div",{className:"user-dropdown",children:[(0,i.jsxs)("div",{className:"dropdown-header",children:[(0,i.jsx)("div",{className:"dropdown-avatar",children:(0,i.jsx)("span",{children:"H"})}),(0,i.jsxs)("div",{className:"dropdown-info",children:[(0,i.jsx)("h4",{children:a.name}),(0,i.jsx)("p",{children:a.email})]})]}),(0,i.jsx)("div",{className:"dropdown-divider"}),(0,i.jsxs)("div",{className:"dropdown-actions",children:[(0,i.jsxs)("button",{className:"dropdown-action",children:[(0,i.jsx)(P.A,{className:"w-4 h-4"}),"Settings"]}),(0,i.jsxs)("button",{className:"dropdown-action",children:[(0,i.jsx)(L.A,{className:"w-4 h-4"}),"Hospital Info"]}),(0,i.jsxs)("button",{className:"dropdown-action logout",onClick:()=>{n()},children:[(0,i.jsx)(z.A,{className:"w-4 h-4"}),"Sign Out"]})]})]})]})]})]})})}),(0,i.jsx)("main",{className:"main-content",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("section",{className:"welcome-section fade-in",children:(0,i.jsxs)("div",{className:"welcome-content",children:[(0,i.jsxs)("div",{className:"welcome-text",children:[(0,i.jsxs)("h1",{children:["Welcome back, ",a.name,"!"]}),(0,i.jsx)("p",{children:"Manage your hospital's doctors and monitor patient appointments"}),(0,i.jsxs)("div",{className:"stats-overview",children:[(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number stat-doctors",children:K.length}),(0,i.jsx)("div",{className:"stat-label",children:"Doctors"})]}),(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number stat-patients",children:Z.length}),(0,i.jsx)("div",{className:"stat-label",children:"Appointments"})]}),(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number",children:Z.filter(e=>"scheduled"===e.status).length}),(0,i.jsx)("div",{className:"stat-label",children:"Scheduled"})]})]})]}),(0,i.jsx)("div",{className:"welcome-icon",children:(0,i.jsx)(L.A,{className:"w-16 h-16"})})]})}),(0,i.jsxs)("section",{className:"stats-grid",children:[(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon blue",children:(0,i.jsx)(O.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Total Doctors"}),(0,i.jsx)("div",{className:"stat-card-number stat-doctors",children:K.length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Medical professionals"})]}),(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon green",children:(0,i.jsx)(B.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Total Appointments"}),(0,i.jsx)("div",{className:"stat-card-number stat-patients",children:Z.length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Patient visits"})]}),(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon purple",children:(0,i.jsx)(q.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Scheduled"}),(0,i.jsx)("div",{className:"stat-card-number",children:Z.filter(e=>"scheduled"===e.status).length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Upcoming appointments"})]}),(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon orange",children:(0,i.jsx)(B.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Completed"}),(0,i.jsx)("div",{className:"stat-card-number",children:Z.filter(e=>"completed"===e.status).length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Finished visits"})]})]}),(0,i.jsxs)("div",{className:"main-layout",children:[(0,i.jsxs)("div",{className:"content-card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon green",children:(0,i.jsx)(O.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Manage Doctors"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"Add and manage medical professionals in your hospital"}),(0,i.jsx)("div",{className:"card-actions",children:(0,i.jsxs)("button",{onClick:()=>y(!b),className:"btn btn-primary",children:[(0,i.jsx)(F.A,{className:"w-4 h-4"}),"Add Doctor"]})})]}),b&&(0,i.jsx)("div",{className:"form-section slide-up",children:(0,i.jsxs)("form",{onSubmit:e=>{var s;e.preventDefault();let i={id:Date.now().toString(),name:Q.name,email:Q.email,phone:Q.phone,specialization:Q.specialization,experience:parseInt(Q.experience),qualification:Q.qualification||void 0,consultationFee:Q.consultationFee?parseInt(Q.consultationFee):void 0,hospitalId:a.hospitalId||"",hospitalName:(null==(s=a.name)?void 0:s.replace(" Administrator",""))||"Hospital",isFirstLogin:!0,createdAt:new Date().toISOString()},t={id:Date.now().toString()+"_doctor",email:Q.email,phone:Q.phone,name:Q.name,role:"doctor",hospitalId:a.hospitalId||"",password:"testing",isFirstLogin:!0,createdAt:new Date().toISOString()};d(l.DOCTORS,i),N(t),alert('Doctor "'.concat(Q.name,'" added successfully!\n\nLogin Credentials:\nEmail: ').concat(Q.email,"\nPassword: testing")),J({name:"",email:"",phone:"",specialization:"",experience:"",qualification:"",consultationFee:""}),y(!1),V()},children:[(0,i.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"24px",color:"#1a202c"},children:"Add New Doctor"}),(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Doctor Name *"}),(0,i.jsx)("input",{type:"text",value:Q.name,onChange:e=>J({...Q,name:e.target.value}),placeholder:"Enter doctor's full name",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Email *"}),(0,i.jsx)("input",{type:"email",value:Q.email,onChange:e=>J({...Q,email:e.target.value}),placeholder:"Enter email address",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Phone *"}),(0,i.jsx)("input",{type:"text",value:Q.phone,onChange:e=>J({...Q,phone:e.target.value}),placeholder:"Enter phone number",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Specialization *"}),(0,i.jsx)("input",{type:"text",value:Q.specialization,onChange:e=>J({...Q,specialization:e.target.value}),placeholder:"e.g., Cardiology, Neurology",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Experience (Years) *"}),(0,i.jsx)("input",{type:"number",value:Q.experience,onChange:e=>J({...Q,experience:e.target.value}),placeholder:"Enter years of experience",min:"0",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Qualification"}),(0,i.jsx)("input",{type:"text",value:Q.qualification,onChange:e=>J({...Q,qualification:e.target.value}),placeholder:"e.g., MBBS, MD, PhD",className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Consultation Fee"}),(0,i.jsx)("input",{type:"number",value:Q.consultationFee,onChange:e=>J({...Q,consultationFee:e.target.value}),placeholder:"Enter consultation fee",min:"0",className:"form-input"})]})]}),(0,i.jsxs)("div",{className:"form-actions",children:[(0,i.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,i.jsx)(F.A,{className:"w-4 h-4"}),"Add Doctor"]}),(0,i.jsx)("button",{type:"button",onClick:()=>y(!1),className:"btn btn-secondary",children:"Cancel"})]})]})}),S&&A&&(0,i.jsx)("div",{className:"form-section slide-up",children:(0,i.jsxs)("form",{onSubmit:e=>{let s;if(e.preventDefault(),!A)return;s={...A,name:Q.name,email:Q.email,phone:Q.phone,specialization:Q.specialization,experience:parseInt(Q.experience),qualification:Q.qualification||void 0,consultationFee:Q.consultationFee?parseInt(Q.consultationFee):void 0},r(l.DOCTORS,s);let a=u().find(e=>e.email===A.email);a&&r("users",{...a,name:Q.name,email:Q.email,phone:Q.phone}),alert('Doctor "'.concat(Q.name,'" updated successfully!')),J({name:"",email:"",phone:"",specialization:"",experience:"",qualification:"",consultationFee:""}),w(!1),C(null),V()},children:[(0,i.jsxs)("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"24px",color:"#1a202c"},children:["Edit Doctor: ",A.name]}),(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Doctor Name *"}),(0,i.jsx)("input",{type:"text",value:Q.name,onChange:e=>J({...Q,name:e.target.value}),placeholder:"Enter doctor's full name",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Email *"}),(0,i.jsx)("input",{type:"email",value:Q.email,onChange:e=>J({...Q,email:e.target.value}),placeholder:"Enter email address",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Phone *"}),(0,i.jsx)("input",{type:"text",value:Q.phone,onChange:e=>J({...Q,phone:e.target.value}),placeholder:"Enter phone number",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Specialization *"}),(0,i.jsx)("input",{type:"text",value:Q.specialization,onChange:e=>J({...Q,specialization:e.target.value}),placeholder:"e.g., Cardiology, Neurology",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Experience (Years) *"}),(0,i.jsx)("input",{type:"number",value:Q.experience,onChange:e=>J({...Q,experience:e.target.value}),placeholder:"Enter years of experience",min:"0",required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Qualification"}),(0,i.jsx)("input",{type:"text",value:Q.qualification,onChange:e=>J({...Q,qualification:e.target.value}),placeholder:"e.g., MBBS, MD, PhD",className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Consultation Fee"}),(0,i.jsx)("input",{type:"number",value:Q.consultationFee,onChange:e=>J({...Q,consultationFee:e.target.value}),placeholder:"Enter consultation fee",min:"0",className:"form-input"})]})]}),(0,i.jsxs)("div",{className:"form-actions",children:[(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update Doctor"}),(0,i.jsx)("button",{type:"button",onClick:()=>{w(!1),C(null),J({name:"",email:"",phone:"",specialization:"",experience:"",qualification:"",consultationFee:""})},className:"btn btn-secondary",children:"Cancel"})]})]})}),(0,i.jsx)("div",{className:"hospital-list",children:K.length>0?K.map(e=>(0,i.jsx)("div",{className:"hospital-item",children:(0,i.jsxs)("div",{className:"hospital-header",children:[(0,i.jsx)("div",{className:"hospital-icon",children:(0,i.jsx)(O.A,{className:"w-8 h-8"})}),(0,i.jsxs)("div",{className:"hospital-info",children:[(0,i.jsxs)("h3",{children:["Dr. ",e.name]}),(0,i.jsxs)("div",{className:"hospital-details",children:[(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(O.A,{className:"hospital-detail-icon"}),(0,i.jsx)("span",{children:e.specialization})]}),(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(H.A,{className:"hospital-detail-icon"}),(0,i.jsx)("span",{children:e.email})]}),(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(R.A,{className:"hospital-detail-icon"}),(0,i.jsx)("span",{children:e.phone})]}),(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(q.A,{className:"hospital-detail-icon"}),(0,i.jsxs)("span",{children:[e.experience," years experience"]})]})]}),e.qualification&&(0,i.jsxs)("div",{className:"hospital-description",children:["Qualification: ",e.qualification]})]}),(0,i.jsx)("div",{className:"hospital-actions",children:(0,i.jsx)("button",{onClick:()=>{var s;J({name:e.name,email:e.email,phone:e.phone,specialization:e.specialization,experience:e.experience.toString(),qualification:e.qualification||"",consultationFee:(null==(s=e.consultationFee)?void 0:s.toString())||""}),C(e),w(!0)},className:"btn btn-secondary",style:{padding:"8px",minWidth:"auto"},children:(0,i.jsx)(U.A,{className:"w-4 h-4"})})})]})},e.id)):(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsx)("div",{className:"empty-state-icon",children:(0,i.jsx)(O.A,{className:"w-10 h-10"})}),(0,i.jsx)("h3",{children:"No Doctors Added"}),(0,i.jsx)("p",{children:"Start building your medical team by adding your first doctor."}),(0,i.jsxs)("button",{onClick:()=>y(!0),className:"btn btn-primary",children:[(0,i.jsx)(F.A,{className:"w-4 h-4"}),"Add First Doctor"]})]})})]}),(0,i.jsxs)("div",{className:"content-card",style:{marginBottom:"32px"},children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon orange",children:(0,i.jsx)(_.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Appointment Analytics"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"Monitor appointment statistics and performance"}),(0,i.jsxs)("div",{className:"card-actions",children:[(0,i.jsx)("input",{type:"date",value:W,onChange:e=>Y(e.target.value),className:"form-input",style:{width:"auto",marginRight:"8px"}}),(0,i.jsxs)("button",{onClick:()=>M(!I),className:"btn btn-primary",children:[(0,i.jsx)(_.A,{className:"w-4 h-4"}),"View Analytics"]})]})]}),I&&(0,i.jsx)("div",{className:"analytics-section slide-up",children:(()=>{let e=(()=>{let e=Z.filter(e=>e.date===W);return{totalAppointments:e.length,completedAppointments:e.filter(e=>"completed"===e.status).length,pendingAppointments:e.filter(e=>"scheduled"===e.status).length,cancelledAppointments:e.filter(e=>"cancelled"===e.status).length,appointmentsByDoctor:K.map(s=>({doctorName:s.name,appointments:e.filter(e=>e.doctorId===s.id).length}))}})();return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"analytics-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},children:[(0,i.jsxs)("div",{className:"analytics-card",style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[(0,i.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e40af"},children:e.totalAppointments}),(0,i.jsx)("div",{style:{fontSize:"14px",color:"#64748b"},children:"Total Appointments"})]}),(0,i.jsxs)("div",{className:"analytics-card",style:{padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[(0,i.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#16a34a"},children:e.completedAppointments}),(0,i.jsx)("div",{style:{fontSize:"14px",color:"#64748b"},children:"Completed"})]}),(0,i.jsxs)("div",{className:"analytics-card",style:{padding:"16px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fde68a"},children:[(0,i.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#d97706"},children:e.pendingAppointments}),(0,i.jsx)("div",{style:{fontSize:"14px",color:"#64748b"},children:"Pending"})]}),(0,i.jsxs)("div",{className:"analytics-card",style:{padding:"16px",backgroundColor:"#fef2f2",borderRadius:"8px",border:"1px solid #fecaca"},children:[(0,i.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#dc2626"},children:e.cancelledAppointments}),(0,i.jsx)("div",{style:{fontSize:"14px",color:"#64748b"},children:"Cancelled"})]})]}),(0,i.jsxs)("div",{style:{marginTop:"24px"},children:[(0,i.jsx)("h4",{style:{marginBottom:"16px",fontSize:"18px",fontWeight:"600"},children:"Appointments by Doctor"}),(0,i.jsx)("div",{className:"doctor-analytics",children:e.appointmentsByDoctor.map((e,s)=>(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:"#f8fafc",borderRadius:"6px",marginBottom:"8px"},children:[(0,i.jsxs)("span",{style:{fontWeight:"500"},children:["Dr. ",e.doctorName]}),(0,i.jsxs)("span",{style:{backgroundColor:"#1e40af",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px"},children:[e.appointments," appointments"]})]},s))})]})]})})()})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"content-card",style:{marginBottom:"32px"},children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon blue",children:(0,i.jsx)(L.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Hospital Information"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"Your hospital details"})]}),(0,i.jsxs)("div",{className:"status-list",children:[(0,i.jsxs)("div",{className:"status-item blue",children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon blue",children:(0,i.jsx)(L.A,{className:"w-4 h-4"})}),(0,i.jsx)("span",{className:"status-text blue",children:"Hospital Name"})]}),(0,i.jsx)("span",{className:"status-badge info",children:null==(s=a.name)?void 0:s.replace(" Administrator","")})]}),(0,i.jsxs)("div",{className:"status-item green",children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon green",children:(0,i.jsx)(H.A,{className:"w-4 h-4"})}),(0,i.jsx)("span",{className:"status-text green",children:"Email"})]}),(0,i.jsx)("span",{className:"status-badge info",children:a.email})]}),(0,i.jsxs)("div",{className:"status-item purple",children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon purple",children:(0,i.jsx)(R.A,{className:"w-4 h-4"})}),(0,i.jsx)("span",{className:"status-text purple",children:"Phone"})]}),(0,i.jsx)("span",{className:"status-badge info",children:a.phone})]})]})]}),(0,i.jsxs)("div",{className:"content-card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon purple",children:(0,i.jsx)(B.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Quick Actions"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"Common hospital tasks"})]}),(0,i.jsx)("div",{className:"quick-actions",children:(0,i.jsxs)("div",{className:"action-list",children:[(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(O.A,{className:"w-4 h-4"}),"Manage Doctors"]}),(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(B.A,{className:"w-4 h-4"}),"View Appointments"]}),(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(q.A,{className:"w-4 h-4"}),"Patient Records"]}),(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(L.A,{className:"w-4 h-4"}),"Hospital Settings"]})]})})]})]})]})]})})]})}var J=a(646);function V(e){let{currentUser:s,onLogout:a}=e,[c,u]=(0,t.useState)([]),[N,v]=(0,t.useState)([]),[f,y]=(0,t.useState)([]),[S,w]=(0,t.useState)([]),[A,C]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!1),[I,L]=(0,t.useState)(!1),[H,R]=(0,t.useState)({date:"",startTime:"",endTime:"",maxPatients:1}),[M,U]=(0,t.useState)({monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!0,sunday:!1,startTime:"",endTime:"",maxPatients:1}),Y=(0,t.useCallback)(()=>{let e=x(),a=j(),i=o();console.log("Doctor Dashboard - Loaded data:",{doctorId:s.id,doctorName:s.name,totalAppointments:a.length,totalTimeSlots:e.length,myAppointments:a.filter(e=>e.doctorId===s.id).length,myTimeSlots:e.filter(e=>e.doctorId===s.id).length,allAppointmentDoctorIds:[...new Set(a.map(e=>e.doctorId))],sampleAppointments:a.slice(0,3).map(e=>({id:e.id,doctorId:e.doctorId,patientId:e.patientId,date:e.date,status:e.status}))}),u(e),v(n(l.WEEKLY_SCHEDULES)),y(a),w(i)},[s.id,s.name]);(0,t.useEffect)(()=>{Y();let e=setInterval(Y,2e3);return()=>clearInterval(e)},[Y]);let Q=(e,s)=>{let a=j().find(s=>s.id===e);if(a){let e;switch(s){case"confirm":e="scheduled";break;case"complete":e="completed";break;case"cancel":e="cancelled";break;default:return}r("appointments",{...a,status:e}),Y()}},V=e=>{switch(e){case"scheduled":return(0,i.jsx)("span",{className:"status-badge info",children:"Scheduled"});case"completed":return(0,i.jsx)("span",{className:"status-badge success",children:"Completed"});case"cancelled":return(0,i.jsx)("span",{className:"status-badge error",children:"Cancelled"});default:return(0,i.jsx)("span",{className:"status-badge info",children:e})}},K=c.filter(e=>e.doctorId===s.id),Z=f.filter(e=>e.doctorId===s.id),G=Z.filter(e=>e.date===new Date().toISOString().split("T")[0]);return(0,i.jsxs)("div",{className:"dashboard",children:[(0,i.jsx)("header",{className:"header",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"header-content",children:[(0,i.jsxs)("div",{className:"logo",children:[(0,i.jsx)("div",{className:"logo-icon",children:(0,i.jsx)(g.A,{className:"w-6 h-6"})}),(0,i.jsxs)("div",{className:"logo-text",children:[(0,i.jsx)("h1",{children:(()=>{let e=S.find(e=>e.id===s.hospitalId);return e?e.name:"Hospital"})()}),(0,i.jsx)("p",{children:"Doctor Portal"})]})]}),(0,i.jsxs)("div",{className:"header-actions",children:[(0,i.jsxs)("div",{className:"notification-badge",children:[(0,i.jsx)(k.A,{className:"w-6 h-6"}),(0,i.jsx)("span",{className:"badge",children:G.length})]}),(0,i.jsx)("div",{className:"settings-icon",children:(0,i.jsx)(P.A,{className:"w-6 h-6"})}),(0,i.jsxs)("div",{className:"user-profile",onClick:()=>L(!I),children:[(0,i.jsx)("div",{className:"user-avatar",children:(0,i.jsx)("span",{children:"D"})}),(0,i.jsxs)("div",{className:"user-info",children:[(0,i.jsxs)("h3",{children:["Dr. ",s.name]}),(0,i.jsx)("p",{children:s.email})]}),(0,i.jsx)(E.A,{className:"w-4 h-4 transition-transform ".concat(I?"rotate-180":"")}),I&&(0,i.jsxs)("div",{className:"user-dropdown",children:[(0,i.jsxs)("div",{className:"dropdown-header",children:[(0,i.jsx)("div",{className:"dropdown-avatar",children:(0,i.jsx)("span",{children:"D"})}),(0,i.jsxs)("div",{className:"dropdown-info",children:[(0,i.jsxs)("h4",{children:["Dr. ",s.name]}),(0,i.jsx)("p",{children:s.email})]})]}),(0,i.jsx)("div",{className:"dropdown-divider"}),(0,i.jsxs)("div",{className:"dropdown-actions",children:[(0,i.jsxs)("button",{className:"dropdown-action",children:[(0,i.jsx)(P.A,{className:"w-4 h-4"}),"Settings"]}),(0,i.jsxs)("button",{className:"dropdown-action",children:[(0,i.jsx)(O.A,{className:"w-4 h-4"}),"Profile"]}),(0,i.jsxs)("button",{className:"dropdown-action logout",onClick:()=>{a()},children:[(0,i.jsx)(z.A,{className:"w-4 h-4"}),"Sign Out"]})]})]})]})]})]})})}),(0,i.jsx)("main",{className:"main-content",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("section",{className:"welcome-section fade-in",children:(0,i.jsxs)("div",{className:"welcome-content",children:[(0,i.jsxs)("div",{className:"welcome-text",children:[(0,i.jsxs)("h1",{children:["Welcome back, Dr. ",s.name,"!"]}),(0,i.jsx)("p",{children:"Manage your appointments and time slots efficiently"}),(0,i.jsxs)("div",{className:"stats-overview",children:[(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number stat-doctors",children:K.length}),(0,i.jsx)("div",{className:"stat-label",children:"Time Slots"})]}),(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number stat-patients",children:Z.length}),(0,i.jsx)("div",{className:"stat-label",children:"Total Appointments"})]}),(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number",children:G.length}),(0,i.jsx)("div",{className:"stat-label",children:"Today's Appointments"})]})]})]}),(0,i.jsx)("div",{className:"welcome-icon",children:(0,i.jsx)(O.A,{className:"w-16 h-16"})})]})}),(0,i.jsxs)("section",{className:"stats-grid",children:[(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon blue",children:(0,i.jsx)(B.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Available Slots"}),(0,i.jsx)("div",{className:"stat-card-number",children:K.filter(e=>e.isAvailable).length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Open time slots"})]}),(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon green",children:(0,i.jsx)(q.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Today's Patients"}),(0,i.jsx)("div",{className:"stat-card-number",children:G.length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Scheduled today"})]}),(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon purple",children:(0,i.jsx)(J.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Completed"}),(0,i.jsx)("div",{className:"stat-card-number",children:Z.filter(e=>"completed"===e.status).length}),(0,i.jsx)("div",{className:"stat-card-description",children:"Finished appointments"})]}),(0,i.jsxs)("div",{className:"stat-card",children:[(0,i.jsx)("div",{className:"stat-card-header",children:(0,i.jsx)("div",{className:"stat-icon orange",children:(0,i.jsx)(_.A,{className:"w-6 h-6"})})}),(0,i.jsx)("div",{className:"stat-card-title",children:"Total Patients"}),(0,i.jsx)("div",{className:"stat-card-number",children:new Set(Z.map(e=>e.patientId)).size}),(0,i.jsx)("div",{className:"stat-card-description",children:"Unique patients"})]})]}),(0,i.jsxs)("div",{className:"main-layout",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"content-card",style:{marginBottom:"32px"},children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon green",children:(0,i.jsx)(F.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Add Time Slot"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"Create new availability for patients"}),(0,i.jsxs)("div",{className:"card-actions",children:[(0,i.jsxs)("button",{onClick:()=>C(!A),className:"btn btn-primary",children:[(0,i.jsx)(F.A,{className:"w-4 h-4"}),"Add Slot"]}),(0,i.jsxs)("button",{onClick:()=>T(!D),className:"btn btn-secondary",style:{marginLeft:"8px"},children:[(0,i.jsx)(B.A,{className:"w-4 h-4"}),"Weekly Schedule"]})]})]}),A&&(0,i.jsx)("div",{className:"form-section slide-up",children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p({id:Date.now().toString(),doctorId:s.id,date:H.date,startTime:H.startTime,endTime:H.endTime,isAvailable:!0,maxPatients:H.maxPatients,currentPatients:0,createdAt:new Date().toISOString()}),R({date:"",startTime:"",endTime:"",maxPatients:1}),C(!1),Y()},children:[(0,i.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"24px",color:"#1a202c"},children:"Create New Time Slot"}),(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Date *"}),(0,i.jsx)("input",{type:"date",value:H.date,onChange:e=>R({...H,date:e.target.value}),required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Start Time *"}),(0,i.jsx)("input",{type:"time",value:H.startTime,onChange:e=>R({...H,startTime:e.target.value}),required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"End Time *"}),(0,i.jsx)("input",{type:"time",value:H.endTime,onChange:e=>R({...H,endTime:e.target.value}),required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Max Patients *"}),(0,i.jsx)("input",{type:"number",min:"1",max:"10",value:H.maxPatients,onChange:e=>R({...H,maxPatients:parseInt(e.target.value)}),required:!0,className:"form-input"})]})]}),(0,i.jsxs)("div",{className:"form-actions",children:[(0,i.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,i.jsx)(F.A,{className:"w-4 h-4"}),"Add Time Slot"]}),(0,i.jsx)("button",{type:"button",onClick:()=>C(!1),className:"btn btn-secondary",children:"Cancel"})]})]})})]}),D&&(0,i.jsx)("div",{className:"content-card",style:{marginBottom:"32px"},children:(0,i.jsx)("div",{className:"form-section slide-up",children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault();let a={id:Date.now().toString(),doctorId:s.id,monday:M.monday,tuesday:M.tuesday,wednesday:M.wednesday,thursday:M.thursday,friday:M.friday,saturday:M.saturday,sunday:M.sunday,startTime:M.startTime,endTime:M.endTime,maxPatients:M.maxPatients,createdAt:new Date().toISOString()},i=N.find(e=>e.doctorId===s.id);if(i){let e;e={...a,id:i.id},r(l.WEEKLY_SCHEDULES,e)}else d(l.WEEKLY_SCHEDULES,a);(e=>{let a=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],i=new Date;for(let t=0;t<4;t++)for(let l=0;l<7;l++)if(e[a[l]]){let a=new Date(i);if(a.setDate(i.getDate()+7*t+l),a>=i){let i={id:Date.now().toString()+"_".concat(t,"_").concat(l),doctorId:s.id,date:a.toISOString().split("T")[0],startTime:e.startTime,endTime:e.endTime,isAvailable:!0,maxPatients:e.maxPatients,currentPatients:0,createdAt:new Date().toISOString()};x().find(e=>e.doctorId===s.id&&e.date===i.date&&e.startTime===i.startTime)||p(i)}}})(a),U({monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!0,sunday:!1,startTime:"",endTime:"",maxPatients:1}),T(!1),Y()},children:[(0,i.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"24px",color:"#1a202c"},children:"Set Weekly Schedule"}),(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Start Time *"}),(0,i.jsx)("input",{type:"time",value:M.startTime,onChange:e=>U({...M,startTime:e.target.value}),required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"End Time *"}),(0,i.jsx)("input",{type:"time",value:M.endTime,onChange:e=>U({...M,endTime:e.target.value}),required:!0,className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Max Patients per Slot *"}),(0,i.jsx)("input",{type:"number",min:"1",max:"10",value:M.maxPatients,onChange:e=>U({...M,maxPatients:parseInt(e.target.value)}),required:!0,className:"form-input"})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,i.jsx)("label",{className:"form-label",children:"Available Days"}),(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px",marginTop:"8px"},children:[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}].map(e=>{let{key:s,label:a}=e;return(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,i.jsx)("input",{type:"checkbox",checked:M[s],onChange:e=>U({...M,[s]:e.target.checked}),style:{width:"16px",height:"16px"}}),(0,i.jsx)("span",{children:a})]},s)})})]}),(0,i.jsxs)("div",{className:"form-actions",children:[(0,i.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,i.jsx)(B.A,{className:"w-4 h-4"}),"Set Weekly Schedule"]}),(0,i.jsx)("button",{type:"button",onClick:()=>T(!1),className:"btn btn-secondary",children:"Cancel"})]})]})})}),(0,i.jsxs)("div",{className:"content-card",style:{marginBottom:"32px"},children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon blue",children:(0,i.jsx)(W.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Your Time Slots"})]}),(0,i.jsxs)("div",{className:"card-subtitle",children:[K.length," time slots created"]})]}),(0,i.jsx)("div",{className:"status-list",children:K.length>0?K.map(e=>(0,i.jsxs)("div",{className:"status-item",children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon blue",children:(0,i.jsx)(W.A,{className:"w-4 h-4"})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"status-text blue",children:[e.startTime," - ",e.endTime]}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[e.date," • ",e.currentPatients,"/",e.maxPatients," patients"]})]})]}),(0,i.jsx)("span",{className:"status-badge ".concat(e.isAvailable?"success":"error"),children:e.isAvailable?"Available":"Full"})]},e.id)):(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsx)("div",{className:"empty-state-icon",children:(0,i.jsx)(W.A,{className:"w-10 h-10"})}),(0,i.jsx)("h3",{children:"No Time Slots"}),(0,i.jsx)("p",{children:"Create your first time slot to start accepting appointments."}),(0,i.jsxs)("button",{onClick:()=>C(!0),className:"btn btn-primary",children:[(0,i.jsx)(F.A,{className:"w-4 h-4"}),"Add First Slot"]})]})})]}),(0,i.jsxs)("div",{className:"content-card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon purple",children:(0,i.jsx)(q.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Your Appointments"})]}),(0,i.jsxs)("div",{className:"card-subtitle",children:[Z.length," total appointments"]})]}),(0,i.jsx)("div",{className:"status-list",children:Z.length>0?Z.map(e=>{let s=h().find(s=>s.id===e.patientId);return(0,i.jsxs)("div",{className:"status-item",children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon purple",children:(0,i.jsx)(q.A,{className:"w-4 h-4"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"status-text purple",children:(null==s?void 0:s.name)||"Unknown Patient"}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[e.date," • ",e.startTime]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[V(e.status),"scheduled"===e.status&&(0,i.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,i.jsx)("button",{onClick:()=>Q(e.id,"complete"),className:"admin-use-btn",style:{padding:"4px 8px",fontSize:"12px"},children:"Complete"}),(0,i.jsx)("button",{onClick:()=>Q(e.id,"cancel"),className:"reset-button",style:{padding:"4px 8px",fontSize:"12px"},children:"Cancel"})]})]})]},e.id)}):(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsx)("div",{className:"empty-state-icon",children:(0,i.jsx)(q.A,{className:"w-10 h-10"})}),(0,i.jsx)("h3",{children:"No Appointments"}),(0,i.jsx)("p",{children:"Appointments will appear here once patients book your time slots."}),(0,i.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#fef3c7",borderRadius:"6px",border:"1px solid #fde68a"},children:[(0,i.jsx)("h4",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",color:"#d97706"},children:"\uD83D\uDD0D Debug: Appointment Data"}),(0,i.jsxs)("p",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:["Total appointments in system: ",f.length]}),(0,i.jsxs)("p",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:["Your appointments: ",Z.length]}),(0,i.jsxs)("p",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:["Your doctor ID: ",s.id]}),(0,i.jsxs)("p",{style:{fontSize:"12px",color:"#92400e",marginBottom:"8px"},children:["Doctor IDs in appointments: ",[...new Set(f.map(e=>e.doctorId))].join(", ")]}),f.length>0&&(0,i.jsxs)("div",{style:{marginTop:"8px"},children:[(0,i.jsx)("p",{style:{fontSize:"12px",color:"#92400e",fontWeight:"600"},children:"Sample appointments:"}),f.slice(0,3).map(e=>(0,i.jsxs)("div",{style:{fontSize:"11px",marginBottom:"2px",padding:"2px",backgroundColor:"#fef2f2",borderRadius:"2px"},children:["ID: ",e.id," | Doctor: ",e.doctorId," | Patient: ",e.patientId," | Date: ",e.date," | Status: ",e.status]},e.id))]}),(0,i.jsxs)("div",{style:{marginTop:"12px",padding:"8px",backgroundColor:"#dbeafe",borderRadius:"4px",border:"1px solid #93c5fd"},children:[(0,i.jsxs)("p",{style:{fontSize:"12px",color:"#1e40af",marginBottom:"8px"},children:[(0,i.jsx)("strong",{children:"\uD83D\uDD27 Fix Appointment ID Mismatch:"})," If appointments exist but aren't showing, click below to fix the doctor ID mismatch."]}),(0,i.jsxs)("button",{onClick:()=>{let e=j(),a=m(),i=e.filter(e=>!a.find(s=>s.id===e.doctorId));i.length>0?(console.log("Found ".concat(i.length," orphaned appointments, assigning to current doctor")),i.forEach(e=>{r("appointments",{...e,doctorId:s.id})}),Y(),alert("Assigned ".concat(i.length," orphaned appointments to Dr. ").concat(s.name))):alert("No orphaned appointments found to fix.")},className:"btn btn-secondary",style:{fontSize:"12px",padding:"6px 12px"},children:["\uD83D\uDD27 Fix Appointments for Dr. ",s.name]})]})]})]})})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"content-card",style:{marginBottom:"32px"},children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon orange",children:(0,i.jsx)(B.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Today's Schedule"})]}),(0,i.jsxs)("div",{className:"card-subtitle",children:[G.length," appointments today"]})]}),(0,i.jsx)("div",{className:"status-list",children:G.length>0?G.map(e=>{let s=h().find(s=>s.id===e.patientId);return(0,i.jsxs)("div",{className:"status-item",children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon orange",children:(0,i.jsx)(W.A,{className:"w-4 h-4"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"status-text orange",children:(null==s?void 0:s.name)||"Unknown Patient"}),(0,i.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:e.startTime})]})]}),V(e.status)]},e.id)}):(0,i.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:[(0,i.jsx)(B.A,{className:"w-8 h-8 mx-auto mb-2"}),(0,i.jsx)("p",{children:"No appointments scheduled for today"})]})})]}),(0,i.jsxs)("div",{className:"content-card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon green",children:(0,i.jsx)(b.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Quick Actions"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"Common doctor tasks"})]}),(0,i.jsx)("div",{className:"quick-actions",children:(0,i.jsxs)("div",{className:"action-list",children:[(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(F.A,{className:"w-4 h-4"}),"Add Time Slot"]}),(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(q.A,{className:"w-4 h-4"}),"View Patients"]}),(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(B.A,{className:"w-4 h-4"}),"Schedule"]}),(0,i.jsxs)("button",{className:"action-btn",children:[(0,i.jsx)(_.A,{className:"w-4 h-4"}),"Reports"]})]})})]})]})]})]})})]})}var K=a(5339),Z=a(1007),G=a(7924),X=a(6932),$=a(8564),ee=a(3562),es=a(4861);function ea(e){var s;let{currentUser:a,onLogout:n}=e,[c,o]=(0,t.useState)([]),[p,u]=(0,t.useState)([]),[N,v]=(0,t.useState)([]),[f,b]=(0,t.useState)(null),[y,S]=(0,t.useState)(null),[w,A]=(0,t.useState)(null),[C,D]=(0,t.useState)(!1),[T,I]=(0,t.useState)({specialization:"",doctorName:"",hospitalName:"",date:"",time:""});(0,t.useEffect)(()=>{(()=>{let e=m(),s=x(),i=j(),t=h();console.log("Loaded data:",{doctors:e.length,timeSlots:s.length,appointments:i.length,patients:t.length}),o(e),u(s),v(i.filter(e=>e.patientId===a.id));let l=t.find(e=>e.id===a.id);b(null!=l?l:null)})()},[a.id]);let k=c.filter(e=>{let s=!T.specialization||e.specialization.toLowerCase().includes(T.specialization.toLowerCase()),a=!T.doctorName||e.name.toLowerCase().includes(T.doctorName.toLowerCase()),i=!T.hospitalName||e.hospitalName.toLowerCase().includes(T.hospitalName.toLowerCase());return s&&a&&i}),P=p.filter(e=>{if(!e.isAvailable||e.currentPatients>=e.maxPatients)return!1;if(T.date&&new Date(e.date).toISOString().split("T")[0]!==T.date)return!1;return!0}),E=P.filter(e=>e.doctorId===(null==y?void 0:y.id));console.log("Debug info:",{selectedDoctor:null==y?void 0:y.name,selectedDoctorId:null==y?void 0:y.id,totalSlots:p.length,availableSlots:P.length,doctorSlots:E.length,searchFilters:T,allDoctors:c.map(e=>({id:e.id,name:e.name,email:e.email})),allDoctorIds:[...new Set(c.map(e=>e.id))],allSlotDoctorIds:[...new Set(p.map(e=>e.doctorId))],sampleTimeSlots:p.slice(0,3).map(e=>({id:e.id,doctorId:e.doctorId,date:e.date,startTime:e.startTime,isAvailable:e.isAvailable,currentPatients:e.currentPatients,maxPatients:e.maxPatients}))});let L=async()=>{if(y&&w){D(!0);try{let e={id:Date.now().toString(),patientId:a.id,doctorId:y.id,timeSlotId:w.id,date:w.date,startTime:w.startTime,endTime:w.endTime,status:"scheduled",notes:"",createdAt:new Date().toISOString()};d(l.APPOINTMENTS,e);let s={...w,currentPatients:w.currentPatients+1};r("timeSlots",s),v(s=>[...s,e]),S(null),A(null),alert("Appointment booked successfully!")}catch(e){console.error("Error booking appointment:",e),alert("Failed to book appointment. Please try again.")}finally{D(!1)}}};return(0,i.jsxs)("div",{className:"dashboard",children:[(0,i.jsx)("header",{className:"header",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"header-content",children:[(0,i.jsxs)("div",{className:"logo",children:[(0,i.jsx)("div",{className:"logo-icon",children:(0,i.jsx)(g.A,{className:"w-6 h-6"})}),(0,i.jsxs)("div",{className:"logo-text",children:[(0,i.jsx)("h1",{children:"Med Network"}),(0,i.jsx)("p",{children:"Patient Portal"})]})]}),(0,i.jsxs)("div",{className:"header-actions",children:[(0,i.jsxs)("div",{className:"notification-badge",children:[(0,i.jsx)(K.A,{className:"w-6 h-6 text-gray-600"}),(0,i.jsx)("span",{className:"badge",children:"2"})]}),(0,i.jsxs)("div",{className:"user-profile",children:[(0,i.jsx)("div",{className:"user-avatar",children:(0,i.jsx)("span",{children:(null==f||null==(s=f.name)?void 0:s.charAt(0))||"P"})}),(0,i.jsxs)("div",{className:"user-info",children:[(0,i.jsx)("h3",{children:(null==f?void 0:f.name)||"Patient"}),(0,i.jsx)("p",{children:a.email})]}),(0,i.jsxs)("button",{onClick:()=>{n()},className:"admin-use-btn",style:{marginLeft:"12px"},children:[(0,i.jsx)(z.A,{className:"w-4 h-4"}),"Sign Out"]})]})]})]})})}),(0,i.jsx)("main",{className:"main-content",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("section",{className:"welcome-section fade-in",children:(0,i.jsxs)("div",{className:"welcome-content",children:[(0,i.jsxs)("div",{className:"welcome-text",children:[(0,i.jsxs)("h1",{children:["Welcome back, ",(null==f?void 0:f.name)||"Patient","!"]}),(0,i.jsx)("p",{children:"Find and book appointments with our healthcare professionals"}),(0,i.jsxs)("div",{className:"stats-overview",children:[(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number stat-doctors",children:c.length}),(0,i.jsx)("div",{className:"stat-label",children:"Available Doctors"})]}),(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number stat-patients",children:N.length}),(0,i.jsx)("div",{className:"stat-label",children:"Your Appointments"})]}),(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("div",{className:"stat-number",children:P.length}),(0,i.jsx)("div",{className:"stat-label",children:"Available Slots"})]})]})]}),(0,i.jsx)("div",{className:"welcome-icon",children:(0,i.jsx)(Z.A,{className:"w-16 h-16"})})]})}),(0,i.jsxs)("div",{className:"main-layout",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"content-card",style:{marginBottom:"32px"},children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon blue",children:(0,i.jsx)(G.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Find a Doctor"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"Search and filter healthcare professionals"})]}),(0,i.jsx)("div",{className:"form-section",children:(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Specialization"}),(0,i.jsx)("input",{type:"text",value:T.specialization,onChange:e=>I({...T,specialization:e.target.value}),placeholder:"e.g., Cardiology, Neurology",className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Doctor Name"}),(0,i.jsx)("input",{type:"text",value:T.doctorName,onChange:e=>I({...T,doctorName:e.target.value}),placeholder:"e.g., Dr. Smith",className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Hospital Name"}),(0,i.jsx)("input",{type:"text",value:T.hospitalName,onChange:e=>I({...T,hospitalName:e.target.value}),placeholder:"e.g., City Hospital",className:"form-input"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Preferred Date"}),(0,i.jsx)("input",{type:"date",value:T.date,onChange:e=>I({...T,date:e.target.value}),className:"form-input"})]}),(0,i.jsx)("div",{className:"form-actions",style:{marginTop:"16px"},children:(0,i.jsxs)("button",{type:"button",onClick:()=>I({specialization:"",doctorName:"",hospitalName:"",date:"",time:""}),className:"btn btn-secondary",children:[(0,i.jsx)(X.A,{className:"w-4 h-4"}),"Clear Filters"]})})]})})]}),(0,i.jsxs)("div",{className:"content-card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon green",children:(0,i.jsx)(O.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Available Doctors"})]}),(0,i.jsxs)("div",{className:"card-subtitle",children:[k.length," doctors found"]})]}),(0,i.jsx)("div",{className:"hospital-list",children:k.length>0?k.map(e=>(0,i.jsx)("div",{className:"hospital-item ".concat((null==y?void 0:y.id)===e.id?"selected":""),onClick:()=>S(e),children:(0,i.jsxs)("div",{className:"hospital-header",children:[(0,i.jsx)("div",{className:"hospital-icon",children:(0,i.jsx)(Z.A,{className:"w-8 h-8"})}),(0,i.jsxs)("div",{className:"hospital-info",children:[(0,i.jsxs)("h3",{children:["Dr. ",e.name]}),(0,i.jsxs)("div",{className:"hospital-details",children:[(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(O.A,{className:"hospital-detail-icon"}),(0,i.jsx)("span",{children:e.specialization})]}),(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(H.A,{className:"hospital-detail-icon"}),(0,i.jsx)("span",{children:e.email})]}),(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)(R.A,{className:"hospital-detail-icon"}),(0,i.jsx)("span",{children:e.phone})]}),(0,i.jsxs)("div",{className:"hospital-detail",children:[(0,i.jsx)($.A,{className:"hospital-detail-icon"}),(0,i.jsx)("span",{children:"4.8/5 Rating"})]})]})]})]})},e.id)):(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsx)("div",{className:"empty-state-icon",children:(0,i.jsx)(O.A,{className:"w-10 h-10"})}),(0,i.jsx)("h3",{children:"No Doctors Found"}),(0,i.jsx)("p",{children:"Try adjusting your search filters to find available healthcare professionals."})]})})]})]}),(0,i.jsxs)("div",{children:[y&&(0,i.jsxs)("div",{className:"content-card",style:{marginBottom:"32px"},children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon purple",children:(0,i.jsx)(B.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Available Time Slots"})]}),(0,i.jsxs)("div",{className:"card-subtitle",children:["Select a time slot for Dr. ",y.name]})]}),(0,i.jsx)("div",{className:"status-list",children:E.length>0?E.map(e=>(0,i.jsxs)("div",{className:"status-item ".concat((null==w?void 0:w.id)===e.id?"selected":""),onClick:()=>A(e),children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon purple",children:(0,i.jsx)(W.A,{className:"w-4 h-4"})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"status-text purple",children:[e.startTime," - ",e.endTime]}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[e.date," • ",e.currentPatients,"/",e.maxPatients," patients"]})]})]}),(0,i.jsx)("button",{className:"admin-use-btn",children:"Select"})]},e.id)):p.filter(e=>e.doctorId===y.id).length>0?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#fef3c7",borderRadius:"6px",border:"1px solid #fde68a"},children:[(0,i.jsxs)("h4",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",color:"#d97706"},children:["⚠️ Debug: Showing ALL slots for Dr. ",y.name]}),(0,i.jsx)("p",{style:{fontSize:"12px",color:"#92400e"},children:"Available slots filtered out due to availability/date constraints. Showing all slots below:"})]}),p.filter(e=>e.doctorId===y.id).map(e=>(0,i.jsxs)("div",{className:"status-item ".concat((null==w?void 0:w.id)===e.id?"selected":""),onClick:()=>A(e),style:{opacity:e.isAvailable&&e.currentPatients<e.maxPatients?1:.6,border:e.isAvailable&&e.currentPatients<e.maxPatients?"2px solid #10b981":"2px solid #ef4444"},children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon purple",children:(0,i.jsx)(W.A,{className:"w-4 h-4"})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"status-text purple",children:[e.startTime," - ",e.endTime]}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[e.date," • ",e.currentPatients,"/",e.maxPatients," patients",!e.isAvailable&&" • NOT AVAILABLE",e.currentPatients>=e.maxPatients&&" • FULL"]})]})]}),(0,i.jsx)("button",{className:"admin-use-btn",disabled:!e.isAvailable||e.currentPatients>=e.maxPatients,children:e.isAvailable&&e.currentPatients<e.maxPatients?"Select":"Unavailable"})]},e.id))]}):(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsx)("div",{className:"empty-state-icon",children:(0,i.jsx)(W.A,{className:"w-10 h-10"})}),(0,i.jsx)("h3",{children:"No Available Slots"}),(0,i.jsx)("p",{children:T.date?"No time slots available for Dr. ".concat(y.name," on ").concat(T.date,". Try selecting a different date."):"No time slots available for Dr. ".concat(y.name,". The doctor may not have created any slots yet.")}),(0,i.jsxs)("div",{style:{marginTop:"12px",fontSize:"14px",color:"#6b7280"},children:[(0,i.jsxs)("p",{children:["Total slots in system: ",p.length]}),(0,i.jsxs)("p",{children:["Available slots: ",P.length]}),(0,i.jsxs)("p",{children:["Doctor's slots: ",p.filter(e=>e.doctorId===y.id).length]}),(0,i.jsxs)("p",{children:["Doctor's available slots: ",p.filter(e=>e.doctorId===y.id&&e.isAvailable&&e.currentPatients<e.maxPatients).length]})]}),T.date&&(0,i.jsxs)("button",{onClick:()=>I({...T,date:""}),className:"btn btn-secondary",style:{marginTop:"12px"},children:[(0,i.jsx)(X.A,{className:"w-4 h-4"}),"Clear Date Filter"]}),p.filter(e=>e.doctorId===y.id).length>0&&(0,i.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f8fafc",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[(0,i.jsxs)("h4",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:["All Slots for Dr. ",y.name,":"]}),p.filter(e=>e.doctorId===y.id).map(e=>(0,i.jsxs)("div",{style:{fontSize:"12px",marginBottom:"4px",padding:"4px",backgroundColor:e.isAvailable?"#f0fdf4":"#fef2f2",borderRadius:"4px"},children:[e.date," ",e.startTime,"-",e.endTime," | Available: ",e.isAvailable?"Yes":"No"," | Patients: ",e.currentPatients,"/",e.maxPatients]},e.id))]}),(0,i.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#fef3c7",borderRadius:"6px",border:"1px solid #fde68a"},children:[(0,i.jsx)("h4",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",color:"#d97706"},children:"\uD83D\uDD0D Debug: ALL Slots in System:"}),(0,i.jsxs)("p",{style:{fontSize:"12px",color:"#92400e",marginBottom:"8px"},children:["Doctor IDs in slots: ",[...new Set(p.map(e=>e.doctorId))].join(", ")]}),(0,i.jsxs)("p",{style:{fontSize:"12px",color:"#92400e",marginBottom:"8px"},children:["Current doctor ID: ",y.id]}),p.slice(0,5).map(e=>(0,i.jsxs)("div",{style:{fontSize:"12px",marginBottom:"4px",padding:"4px",backgroundColor:"#fef2f2",borderRadius:"4px"},children:["Slot ID: ",e.id," | Doctor ID: ",e.doctorId," | ",e.date," ",e.startTime,"-",e.endTime]},e.id)),p.length>5&&(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#92400e",fontStyle:"italic"},children:["... and ",p.length-5," more slots"]}),(0,i.jsxs)("div",{style:{marginTop:"12px",padding:"8px",backgroundColor:"#dbeafe",borderRadius:"4px",border:"1px solid #93c5fd"},children:[(0,i.jsxs)("p",{style:{fontSize:"12px",color:"#1e40af",marginBottom:"8px"},children:[(0,i.jsx)("strong",{children:"\uD83D\uDD27 Fix ID Mismatch:"})," If slots exist but aren't showing, click below to fix the doctor ID mismatch."]}),(0,i.jsxs)("button",{onClick:()=>((e,s)=>{let a=x(),i=m(),t=i.find(s=>s.email===e);if(!t)return void console.log("Doctor not found:",e);let l=a.filter(e=>{let a=new Date(e.createdAt),i=new Date(t.createdAt);return 3e5>Math.abs(a.getTime()-i.getTime())&&e.doctorId!==s});if(0===l.length){let e=a.filter(e=>!i.find(s=>s.id===e.doctorId));e.forEach(e=>{r("timeSlots",{...e,doctorId:s})}),e.length>0?(alert("Assigned ".concat(e.length," orphaned slots to Dr. ").concat(t.name)),u(x())):alert("No orphaned slots found to fix.")}else l.forEach(e=>{r("timeSlots",{...e,doctorId:s})}),alert("Fixed ".concat(l.length," slots for Dr. ").concat(t.name)),u(x())})(y.email,y.id),className:"btn btn-secondary",style:{fontSize:"12px",padding:"6px 12px"},children:["\uD83D\uDD27 Fix Slots for Dr. ",y.name]})]})]})]})}),w&&(0,i.jsx)("div",{className:"form-section",children:(0,i.jsx)("button",{onClick:L,disabled:C,className:"login-button",children:C?(0,i.jsx)("div",{className:"loading-spinner"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B.A,{className:"w-4 h-4"}),"Book Appointment"]})})})]}),(0,i.jsxs)("div",{className:"content-card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon orange",children:(0,i.jsx)(ee.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Your Appointments"})]}),(0,i.jsxs)("div",{className:"card-subtitle",children:[N.length," upcoming appointments"]})]}),(0,i.jsx)("div",{className:"status-list",children:N.length>0?N.map(e=>{let s=c.find(s=>s.id===e.doctorId);return(0,i.jsxs)("div",{className:"status-item",children:[(0,i.jsxs)("div",{className:"status-left",children:[(0,i.jsx)("div",{className:"status-icon blue",children:(0,i.jsx)(B.A,{className:"w-4 h-4"})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"status-text blue",children:["Dr. ",(null==s?void 0:s.name)||"Unknown"]}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[e.date," • ",e.startTime]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(e=>{switch(e){case"scheduled":return(0,i.jsx)("span",{className:"status-badge info",children:"Scheduled"});case"completed":return(0,i.jsx)("span",{className:"status-badge success",children:"Completed"});case"cancelled":return(0,i.jsx)("span",{className:"status-badge error",children:"Cancelled"});default:return(0,i.jsx)("span",{className:"status-badge info",children:e})}})(e.status),"scheduled"===e.status&&(0,i.jsxs)("button",{onClick:()=>(e=>{if(confirm("Are you sure you want to cancel this appointment?")){let s=j().find(s=>s.id===e);if(s){r("appointments",{...s,status:"cancelled"});let e=x().find(e=>e.id===s.timeSlotId);e&&r("timeSlots",{...e,currentPatients:Math.max(0,e.currentPatients-1),isAvailable:!0}),v(j().filter(e=>e.patientId===a.id)),alert("Appointment cancelled successfully!")}}})(e.id),className:"btn btn-secondary",style:{padding:"4px 8px",fontSize:"12px"},children:[(0,i.jsx)(es.A,{className:"w-3 h-3"}),"Cancel"]})]})]},e.id)}):(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsx)("div",{className:"empty-state-icon",children:(0,i.jsx)(ee.A,{className:"w-10 h-10"})}),(0,i.jsx)("h3",{children:"No Appointments"}),(0,i.jsx)("p",{children:"You haven't booked any appointments yet. Start by finding a doctor above."})]})})]})]})]})]})})]})}var ei=a(1243);function et(e){let{currentUser:s,onLogout:a}=e;switch(s.role){case"admin":return(0,i.jsx)(Y,{currentUser:s,onLogout:a});case"hospital_admin":return(0,i.jsx)(Q,{currentUser:s,onLogout:a});case"doctor":return(0,i.jsx)(V,{currentUser:s,onLogout:a});case"patient":return(0,i.jsx)(ea,{currentUser:s,onLogout:a});default:return(0,i.jsx)("div",{className:"dashboard",children:(0,i.jsx)("main",{className:"main-content",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"content-card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("div",{className:"card-title",children:[(0,i.jsx)("div",{className:"card-title-icon red",children:(0,i.jsx)(ei.A,{className:"w-5 h-5"})}),(0,i.jsx)("h2",{children:"Access Denied"})]}),(0,i.jsx)("div",{className:"card-subtitle",children:"You don't have permission to access this dashboard"})]}),(0,i.jsx)("div",{className:"form-section",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center mb-6",children:[(0,i.jsx)("div",{className:"bg-red-100 rounded-full p-3 mr-4",children:(0,i.jsx)(ei.A,{className:"w-8 h-8 text-red-600"})}),(0,i.jsx)("div",{className:"bg-blue-100 rounded-full p-3",children:(0,i.jsx)(f.A,{className:"w-8 h-8 text-blue-600"})})]}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 max-w-md mx-auto",children:[(0,i.jsxs)("p",{className:"text-sm text-gray-500",children:["Current role: ",(0,i.jsx)("span",{className:"font-semibold text-gray-700",children:s.role})]}),(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Please contact your administrator for proper access permissions."})]})]})})]})})})})}}function el(){let[e,s]=(0,t.useState)(null),[a,n]=(0,t.useState)("login"),[c,d]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{try{v();let e=(()=>{let e=localStorage.getItem(l.CURRENT_USER);return e?JSON.parse(e):null})();e&&s(e)}catch(e){console.error("Error initializing app:",e)}finally{d(!1)}})()},[]),c)?(0,i.jsxs)("div",{className:"login-page",children:[(0,i.jsx)("div",{className:"login-background",children:(0,i.jsxs)("div",{className:"floating-shapes",children:[(0,i.jsx)("div",{className:"shape shape-1"}),(0,i.jsx)("div",{className:"shape shape-2"}),(0,i.jsx)("div",{className:"shape shape-3"}),(0,i.jsx)("div",{className:"shape shape-4"})]})}),(0,i.jsx)("div",{className:"login-container",children:(0,i.jsxs)("div",{className:"text-center fade-in",children:[(0,i.jsx)("div",{className:"flex items-center justify-center mb-8",children:(0,i.jsx)("div",{className:"logo-circle",children:(0,i.jsx)(g.A,{className:"w-12 h-12 text-white animate-pulse"})})}),(0,i.jsx)("h1",{className:"brand-title",children:"Med Network"}),(0,i.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-white/80 text-lg",children:"Initializing healthcare system..."}),(0,i.jsxs)("div",{className:"flex items-center justify-center mt-4 space-x-2",children:[(0,i.jsx)(b.A,{className:"w-5 h-5 text-white/60 animate-pulse"}),(0,i.jsx)("span",{className:"text-white/60 text-sm",children:"Loading modules"})]})]})})]}):e?(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:(0,i.jsx)(et,{currentUser:e,onLogout:()=>{s(null)}})}):"signup"===a?(0,i.jsx)(I,{onSignup:e=>{s(e)},onBackToLogin:()=>{n("login")}}):(0,i.jsx)(D,{onLogin:e=>{s(e)},onShowSignup:()=>{n("signup")}})}},3456:(e,s,a)=>{Promise.resolve().then(a.bind(a,2170))}},e=>{e.O(0,[204,441,964,358],()=>e(e.s=3456)),_N_E=e.O()}]);